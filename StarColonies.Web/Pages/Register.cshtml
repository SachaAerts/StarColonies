@page
@model StarColonies.Web.Pages.Register

@{
    ViewData["Title"] = "Register";
    Layout = "Shared/_LayoutConnection";
}

<div class="mainFrame">
    <div>
        <form method="post" class="formConnectionRegister registerForm active" asp-page-handler="Register">
            <input asp-for="RegisterUser.EmailRegister" type="hidden" id="email-register-hidden" />
            <input asp-for="RegisterUser.PasswordRegister" type="hidden" id="password-register-hidden" />
            <input asp-for="RegisterUser.ConfirmPasswordRegister" type="hidden" id="confirm-password-register-hidden" />

            <div class="fieldContainer">
                <space-input class="spaceInputRegister" id="email-register-input" label="Email" label-position="50" required></space-input>
                <span asp-validation-for="RegisterUser.EmailRegister" class="text-danger"></span>
            </div>

            <div class="fieldContainer">
                <space-input class="spaceInputRegister" id="password-register-input" label="Password" label-position="50" required></space-input>
                <span asp-validation-for="RegisterUser.PasswordRegister" class="text-danger"></span>
            </div>

            <div class="fieldContainer">
                <space-input class="spaceInputRegister" id="confirm-password-register-input" label="Confirm password" label-position="50" required></space-input>
                <span asp-validation-for="RegisterUser.ConfirmPasswordRegister" class="text-danger"></span>
            </div>

            <button class="formButton" type="submit">Register</button>
        </form>

        <div class="backgroundConnection">
            <div class="selectRow">
                <div class="selectConnectionRegister connection">
                    <h2 class="selectTitle">Connection</h2>
                    <svg class="selectFrame connectFrame" width="198" height="48" viewBox="0 0 198 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.64178 15.1194L10.4218 1H196.057V33.0896L187.904 46.5672H1.64178V15.1194Z" fill="#2E4073" stroke="#152F49" stroke-width="2"/>
                    </svg>
                </div>

                <div class="selectConnectionRegister register active">
                    <h2 class="selectTitle">Register</h2>
                    <svg class="selectFrame registerFrame" width="198" height="48" viewBox="0 0 198 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.64178 15.1194L10.4218 1H196.057V33.0896L187.904 46.5672H1.64178V15.1194Z" fill="#2E4073" stroke="#152F49" stroke-width="2"/>
                    </svg>
                </div>
            </div>
            <svg width="380" height="432" viewBox="0 0 380 432" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.5 15L10 1.5H347H378.373V33.5L371 46L378.373 60.9318V410.984L359.005 431H10.3718L1 421.315L1.5 15Z" fill="#161C2B" stroke="#152F49" stroke-width="2"/>
            </svg>
        </div>
    </div>
</div>

<script src="~/js/components/inputs/input.js"></script>

<script>
    const registerForm = document.querySelector(".registerForm");
    
    registerForm.addEventListener("submit", () => {
        const emailRegisterComponent = document.querySelector("#email-register-input");
        const passwordRegisterComponent = document.querySelector("#password-register-input");
        const confirmPasswordRegisterComponent = document.querySelector("#confirm-password-register-input");

        const emailRegisterValue = emailRegisterComponent.shadowRoot.querySelector("input").value;
        const passwordRegisterValue = passwordRegisterComponent.shadowRoot.querySelector("input").value;
        const confirmPasswordRegisterValue = confirmPasswordRegisterComponent.shadowRoot.querySelector("input").value;

        document.querySelector("#email-register-hidden").value = emailRegisterValue;
        document.querySelector("#password-register-hidden").value = passwordRegisterValue;
        document.querySelector("#confirm-password-register-hidden").value = confirmPasswordRegisterValue;
    });


    document.querySelector(".selectConnectionRegister.connection").addEventListener("click", () => {
        window.location.href = "/Connection";
    });



</script>

